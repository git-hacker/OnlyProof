<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>360全景图</title>
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
<!-- 启用webAPP全屏模式-->
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- 隐藏状态栏或者设置状态栏的颜色-->
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<!-- 禁止缓存访问页面-->
<meta http-equiv="Pragma" content="no-cache">
<meta name="applicable-device" content="mobile">
<!-- 页面关键词-->
<!-- <link rel="stylesheet" href="css/demo01.css"> -->
<script src="__JS__/Tree.min.js"></script>
<script src="__JS__/photo-sphere-viewer.min.js"></script>

<!---->
<!-- <script src="js/demo01.js"></script> -->
<!--[if IE]>
<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
<![endif]-->
<style>
*{
margin: 0;
padding: 0;
list-style: none;
box-sizing: border-box;
text-decoration: none;
border: 0;
outline: 0;
}
.main{
max-width: 640px;
width: 100%;
margin: 0 auto;
}
.main h3{
text-align: center;
padding: 10px 0;
}

</style>
</head>
<body>
<div>
<h3 id="title">旋转查看效果</h3>
<div id="container"></div>
</div>

<script>
//必须在服务器上才能看到效果！
window.onload=function(){
	getTitleHeight();
	loadingAllImg();
}
//让全景图刚好撑满屏幕
var canvasHeight;
function getTitleHeight(){
	var title=document.getElementById('title');
	var titleHeight=parseFloat(getComputedStyle(title).height);
	var maxHeight=window.innerHeight;
	canvasHeight=parseFloat(maxHeight-titleHeight)+'px';
}
//全景图参数配置函数
function loadingAllImg(){
	var div = document.getElementById('container');
	var PSV = new PhotoSphereViewer({
		// 全景图的完整路径
		panorama: '/public/img/0.jpg',
		// 放全景图的元素
		container: div,
		// 可选，默认值为2000，全景图在time_anim毫秒后会自动进行动画。（设置为false禁用它）
		time_anim: false,
		// 可选值，默认为false。显示导航条。
		navbar: true,
		// 可选，默认值null，全景图容器的最终尺寸。例如：{width: 500, height: 300}。
		size: {
			width: '100%',
			height: canvasHeight
		}
	});
}

</script>
</body>
</html>
